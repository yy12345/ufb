<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ufufund.ufb.dao.StudentMapper">
	
	<select id="get" parameterType="String" resultType="Student">
    	select * from Student where sid = #{sid, jdbcType=VARCHAR}
    </select>
    
    <insert id="add" parameterType="Student">
		insert into Student values(
			#{sid             ,jdbcType=VARCHAR},     
			#{cid             ,jdbcType=VARCHAR},     
			#{sno             ,jdbcType=VARCHAR},     
			#{name            ,jdbcType=VARCHAR},     
			#{birthday        ,jdbcType=VARCHAR},     
			#{sex             ,jdbcType=VARCHAR},     
			#{certno          ,jdbcType=VARCHAR},     
			#{f_type          ,jdbcType=VARCHAR},     
			#{f_address       ,jdbcType=VARCHAR},      
			#{state           ,jdbcType=VARCHAR},    
			#{p_custno        ,jdbcType=VARCHAR},     
			#{p_date          ,jdbcType=VARCHAR},     
			#{pay_default     ,jdbcType=VARCHAR},     
			#{contact_default ,jdbcType=VARCHAR},     
			#{p1_relation     ,jdbcType=VARCHAR},     
			#{p1_name         ,jdbcType=VARCHAR},     
			#{p1_mobile       ,jdbcType=VARCHAR},     
			#{p1_mail         ,jdbcType=VARCHAR},     
			#{p1_work         ,jdbcType=VARCHAR},     
			#{p2_relation     ,jdbcType=VARCHAR},     
			#{p2_name         ,jdbcType=VARCHAR},     
			#{p2_mobile       ,jdbcType=VARCHAR},     
			#{p2_mail         ,jdbcType=VARCHAR},     
			#{p2_work         ,jdbcType=VARCHAR},     
			#{start_date      ,jdbcType=VARCHAR},     
			#{end_date        ,jdbcType=VARCHAR},     
			#{registry_type   ,jdbcType=VARCHAR},     
			#{registry_address,jdbcType=VARCHAR},     
			#{is_addr_same    ,jdbcType=BIT},     
			#{nation          ,jdbcType=VARCHAR},     
			#{insurance       ,jdbcType=VARCHAR},     
			#{medical         ,jdbcType=VARCHAR},     
			#{health          ,jdbcType=VARCHAR},     
			#{afraid          ,jdbcType=VARCHAR},     
			#{diet_not        ,jdbcType=VARCHAR},     
			#{allergies       ,jdbcType=VARCHAR},     
			#{interest        ,jdbcType=VARCHAR},     
			#{special_care    ,jdbcType=VARCHAR},     
			#{care_type       ,jdbcType=VARCHAR},     
			#{meal_type       ,jdbcType=VARCHAR},                                                                            
			now()
		)
    </insert>
    
    <update id="update" parameterType="Student">
    	update Student set          
			sno              = #{sno             ,jdbcType=VARCHAR},     
			name             = #{name            ,jdbcType=VARCHAR},     
			birthday         = #{birthday        ,jdbcType=VARCHAR},     
			sex              = #{sex             ,jdbcType=VARCHAR},     
			certno           = #{certno          ,jdbcType=VARCHAR},     
			f_type           = #{f_type          ,jdbcType=VARCHAR},     
			f_address        = #{f_address       ,jdbcType=VARCHAR},     
			state            = #{state           ,jdbcType=VARCHAR},    
			contact_default  = #{contact_default ,jdbcType=VARCHAR},     
			p1_relation      = #{p1_relation     ,jdbcType=VARCHAR},     
			p1_name          = #{p1_name         ,jdbcType=VARCHAR},     
			p1_mobile        = #{p1_mobile       ,jdbcType=VARCHAR},     
			p1_mail          = #{p1_mail         ,jdbcType=VARCHAR},     
			p1_work          = #{p1_work         ,jdbcType=VARCHAR},     
			p2_relation      = #{p2_relation     ,jdbcType=VARCHAR},     
			p2_name          = #{p2_name         ,jdbcType=VARCHAR},     
			p2_mobile        = #{p2_mobile       ,jdbcType=VARCHAR},     
			p2_mail          = #{p2_mail         ,jdbcType=VARCHAR},     
			p2_work          = #{p2_work         ,jdbcType=VARCHAR},     
			start_date       = #{start_date      ,jdbcType=VARCHAR},     
			end_date         = #{end_date        ,jdbcType=VARCHAR},     
			registry_type    = #{registry_type   ,jdbcType=VARCHAR},     
			registry_address = #{registry_address,jdbcType=VARCHAR},     
			is_addr_same     = #{is_addr_same    ,jdbcType=VARCHAR},     
			nation           = #{nation          ,jdbcType=VARCHAR},     
			insurance        = #{insurance       ,jdbcType=VARCHAR},     
			medical          = #{medical         ,jdbcType=VARCHAR},     
			health           = #{health          ,jdbcType=VARCHAR},     
			afraid           = #{afraid          ,jdbcType=VARCHAR},     
			diet_not         = #{diet_not        ,jdbcType=VARCHAR},     
			allergies        = #{allergies       ,jdbcType=VARCHAR},     
			interest         = #{interest        ,jdbcType=VARCHAR},     
			special_care     = #{special_care    ,jdbcType=VARCHAR},     
			care_type        = #{care_type       ,jdbcType=VARCHAR},     
			meal_type        = #{meal_type       ,jdbcType=VARCHAR},     
			now()                                                                            
    	where sid = #{sid, jdbcType=VARCHAR}
    </update>
    
    <delete id="remove" parameterType="String">
    	delete from Student where sid = #{sid,jdbcType=VARCHAR}
    </delete>
    
    <insert id="addBatch" parameterType="Student">
    	insert into Student (
    		sid      ,
			cid      ,
			sno      ,
			name     ,
			birthday ,
			sex      ,
			f_type   ,
			p1_name  ,
			p1_mobile,
			p1_mail  ,
			state    ,
			pay_default,
			contact_default,
			lastupdate
    	) values
    	<foreach item="item" collection="list" separator="," open="" close="" index="">  
	    	(#{sid             ,jdbcType=VARCHAR},     
			#{cid             ,jdbcType=VARCHAR},     
			#{sno             ,jdbcType=VARCHAR},     
			#{name            ,jdbcType=VARCHAR},     
			#{birthday        ,jdbcType=VARCHAR},     
			#{sex             ,jdbcType=VARCHAR},     
			#{f_type          ,jdbcType=VARCHAR},     
			#{p1_name         ,jdbcType=VARCHAR},     
			#{p1_mobile       ,jdbcType=VARCHAR},     
			#{p1_mail         ,jdbcType=VARCHAR},    
			'1',     
			'1', 
			'1',
			now())  
	    </foreach>
    </insert>
    
    <update id="adjustClazz">
    	update Student set cid = #{newCid,jdbcType=VARCHAR}
    	where cid = #{oldCid,jdbcType=VARCHAR} and 
    	<foreach item="item" collection="list" separator="," open="(" close=")" index="">  
	      #{item,jdbcType=VARCHAR}  
	    </foreach>
    </update>
    
    <delete id="removeByClazz" parameterType="String">
    	delete from Student where cid = #{cid,jdbcType=VARCHAR}
    </delete>
    
    <select id="getCountByClazz" parameterType="String" resultType="int">
    	select count(*) from Student where cid = #{cid, jdbcType=VARCHAR}
    </select>
</mapper>